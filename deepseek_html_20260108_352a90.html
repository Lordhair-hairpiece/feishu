<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI引流数据统计可视化分析系统</title>
    <!-- 引入必要的库 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.4.3/echarts.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css"></script>
    <style>
        :root {
            --primary-color: #4f46e5;
            --secondary-color: #10b981;
            --accent-color: #f59e0b;
            --bg-color: #f8fafc;
            --card-color: #ffffff;
            --text-color: #1e293b;
            --border-color: #e2e8f0;
        }
        
        .dark-mode {
            --primary-color: #6366f1;
            --secondary-color: #34d399;
            --accent-color: #fbbf24;
            --bg-color: #0f172a;
            --card-color: #1e293b;
            --text-color: #f1f5f9;
            --border-color: #334155;
        }
        
        * {
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        
        body {
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 0;
        }
        
        .card {
            background-color: var(--card-color);
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            border: 1px solid var(--border-color);
        }
        
        .chart-container {
            width: 100%;
            height: 400px;
        }
        
        .insight-card {
            border-left: 4px solid var(--primary-color);
        }
        
        .platform-selector {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .platform-btn {
            padding: 8px 16px;
            border-radius: 20px;
            border: 1px solid var(--border-color);
            background-color: var(--card-color);
            color: var(--text-color);
            cursor: pointer;
            font-weight: 500;
        }
        
        .platform-btn.active {
            background-color: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }
        
        .mode-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 100;
            background-color: var(--card-color);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            border: 1px solid var(--border-color);
        }
        
        @media (max-width: 768px) {
            .chart-container {
                height: 300px;
            }
            
            .mode-toggle {
                top: 10px;
                right: 10px;
                width: 40px;
                height: 40px;
            }
        }
    </style>
</head>
<body>
    <!-- 主题切换按钮 -->
    <div class="mode-toggle" id="modeToggle">
        <svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
            <circle cx="12" cy="12" r="5"></circle>
            <line x1="12" y1="1" x2="12" y2="3"></line>
            <line x1="12" y1="21" x2="12" y2="23"></line>
            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
            <line x1="1" y1="12" x2="3" y2="12"></line>
            <line x1="21" y1="12" x2="23" y2="12"></line>
            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
        </svg>
        <svg id="moonIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
        </svg>
    </div>

    <div class="container mx-auto px-4 py-8">
        <!-- 标题区域 -->
        <header class="mb-10">
            <h1 class="text-3xl font-bold mb-2">AI引流数据统计可视化分析系统</h1>
            <p class="text-lg opacity-80">基于LH、NT、BN三个平台的AI工具引流数据，提供多维度可视化分析与洞察</p>
            
            <!-- 平台选择器 -->
            <div class="mt-6">
                <h3 class="text-lg font-medium mb-3">选择平台查看详细数据</h3>
                <div class="platform-selector">
                    <button class="platform-btn active" data-platform="all">全部平台</button>
                    <button class="platform-btn" data-platform="LH">LH平台</button>
                    <button class="platform-btn" data-platform="NT">NT平台</button>
                    <button class="platform-btn" data-platform="BN">BN平台</button>
                </div>
            </div>
        </header>

        <!-- 主要数据展示区域 -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
            <!-- 各平台引流趋势对比 -->
            <div class="card lg:col-span-2">
                <h2 class="text-xl font-bold mb-4">各平台AI工具引流趋势对比 (3-12月)</h2>
                <div class="chart-container" id="trendChart"></div>
                <p class="text-sm mt-4 opacity-70">该折线图展示了三个平台ChatGPT、Perplexity和Gemmini三种AI工具在3-12月期间的引流数据变化趋势，可清晰观察到各工具在不同平台的表现差异。</p>
            </div>
            
            <!-- 平台对比柱状图 -->
            <div class="card">
                <h2 class="text-xl font-bold mb-4">各平台AI工具引流总量对比</h2>
                <div class="chart-container" id="totalChart"></div>
                <p class="text-sm mt-4 opacity-70">该柱状图展示了三个平台三种AI工具的引流总量对比，BN平台的ChatGPT和Perplexity引流数据显著高于其他平台。</p>
            </div>
            
            <!-- ChatGPT成交转化率 -->
            <div class="card">
                <h2 class="text-xl font-bold mb-4">ChatGPT引流成交转化率 (LH平台)</h2>
                <div class="chart-container" id="conversionChart"></div>
                <p class="text-sm mt-4 opacity-70">该组合图展示了LH平台ChatGPT的引流数据和对应的成交数据，通过折线图显示转化率变化趋势。8月份引流数据下降但成交转化率相对较高。</p>
            </div>
            
            <!-- 各平台工具占比 -->
            <div class="card lg:col-span-2">
                <h2 class="text-xl font-bold mb-4">各平台AI工具引流占比分析</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <div class="chart-container" id="pieChartLH"></div>
                    <div class="chart-container" id="pieChartNT"></div>
                    <div class="chart-container" id="pieChartBN"></div>
                </div>
                <p class="text-sm mt-4 opacity-70">三个饼图分别展示了LH、NT、BN平台中各AI工具的引流占比情况。LH和NT平台以ChatGPT为主，BN平台ChatGPT和Perplexity占比接近。</p>
            </div>
        </div>

        <!-- 数据洞察与发现 -->
        <div class="card mb-8">
            <h2 class="text-xl font-bold mb-6">数据洞察与关键发现</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                <div class="insight-card p-4">
                    <h3 class="font-bold text-lg mb-2">发现一：BN平台表现突出</h3>
                    <p>BN平台的ChatGPT和Perplexity引流数据显著高于LH和NT平台，尤其是8-12月期间，BN平台的Perplexity引流数据猛增，与ChatGPT数据量级相当。</p>
                </div>
                <div class="insight-card p-4">
                    <h3 class="font-bold text-lg mb-2">发现二：Gemmini数据异常</h3>
                    <p>Gemmini在各平台的数据均不稳定，LH和NT平台在9月后数据缺失，BN平台数据量极少且波动大，可能存在数据收集问题或该工具使用率低。</p>
                </div>
                <div class="insight-card p-4">
                    <h3 class="font-bold text-lg mb-2">发现三：转化率提升趋势</h3>
                    <p>LH平台ChatGPT成交转化率从10月份开始明显提升，10-12月期间保持较高水平，表明引流质量或转化策略可能有所改进。</p>
                </div>
                <div class="insight-card p-4">
                    <h3 class="font-bold text-lg mb-2">发现四：季节性波动</h3>
                    <p>各平台引流数据在8-9月普遍出现明显增长，12月份略有下降，可能与行业季节性活动或市场推广节奏有关。</p>
                </div>
                <div class="insight-card p-4">
                    <h3 class="font-bold text-lg mb-2">发现五：平台定位差异</h3>
                    <p>NT平台对Perplexity和Gemmini的接受度相对较高，而LH平台高度依赖ChatGPT，BN平台则呈现ChatGPT与Perplexity并重的特点。</p>
                </div>
                <div class="insight-card p-4">
                    <h3 class="font-bold text-lg mb-2">发现六：数据质量疑问</h3>
                    <p>部分月份数据存在异常，如LH平台8月份ChatGPT引流数据突然下降，但成交数据相对稳定，可能存在数据记录或统计口径问题。</p>
                </div>
            </div>
        </div>

        <!-- 数据建议 -->
        <div class="card">
            <h2 class="text-xl font-bold mb-6">基于数据洞察的5条建议</h2>
            <div class="space-y-4">
                <div class="flex items-start">
                    <div class="flex-shrink-0 w-8 h-8 bg-primary-color rounded-full flex items-center justify-center text-white font-bold mr-3">1</div>
                    <div>
                        <h3 class="font-bold mb-1">深入分析BN平台成功因素</h3>
                        <p>BN平台的ChatGPT和Perplexity引流数据表现突出，建议深入分析其引流策略、内容定位和用户群体特征，将成功经验复制到LH和NT平台。</p>
                    </div>
                </div>
                <div class="flex items-start">
                    <div class="flex-shrink-0 w-8 h-8 bg-primary-color rounded-full flex items-center justify-center text-white font-bold mr-3">2</div>
                    <div>
                        <h3 class="font-bold mb-1">优化Gemmini数据跟踪</h3>
                        <p>Gemmini数据存在大量缺失和不稳定情况，建议完善该工具的数据收集机制，或评估是否值得继续投入资源跟踪该工具的引流效果。</p>
                    </div>
                </div>
                <div class="flex items-start">
                    <div class="flex-shrink-0 w-8 h-8 bg-primary-color rounded-full flex items-center justify-center text-white font-bold mr-3">3</div>
                    <div>
                        <h3 class="font-bold mb-1">提升LH平台转化效率</h3>
                        <p>LH平台ChatGPT引流数据量最大但转化率相对不稳定，建议优化引流内容质量，改进转化路径，特别是8月份引流下降但转化率较高的经验值得总结。</p>
                    </div>
                </div>
                <div class="flex items-start">
                    <div class="flex-shrink-0 w-8 h-8 bg-primary-color rounded-full flex items-center justify-center text-white font-bold mr-3">4</div>
                    <div>
                        <h3 class="font-bold mb-1">平衡各平台工具投入</h3>
                        <p>根据各平台特点差异化配置资源：LH平台继续强化ChatGPT优势，NT平台可适当增加Perplexity和Gemmini投入，BN平台维持ChatGPT与Perplexity并重策略。</p>
                    </div>
                </div>
                <div class="flex items-start">
                    <div class="flex-shrink-0 w-8 h-8 bg-primary-color rounded-full flex items-center justify-center text-white font-bold mr-3">5</div>
                    <div>
                        <h3 class="font-bold mb-1">建立异常数据监控机制</h3>
                        <p>针对数据异常波动（如LH平台8月引流下降）建立预警机制，及时发现数据质量问题或策略失效情况，确保数据准确性和决策有效性。</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- 页脚 -->
        <footer class="mt-10 pt-6 border-t border-gray-200 dark:border-gray-700 text-center opacity-70 text-sm">
            <p>AI引流数据统计可视化分析系统 • 数据来源：LH AI引流统计、NT AI引流统计、BN AI引流统计 • 更新日期：2024年1月</p>
        </footer>
    </div>

    <script>
        // 初始化主题模式
        function initTheme() {
            const savedTheme = localStorage.getItem('theme') || 'light';
            const isDark = savedTheme === 'dark';
            document.body.classList.toggle('dark-mode', isDark);
            document.getElementById('sunIcon').style.display = isDark ? 'block' : 'none';
            document.getElementById('moonIcon').style.display = isDark ? 'none' : 'block';
        }
        
        // 切换主题模式
        document.getElementById('modeToggle').addEventListener('click', function() {
            const isDark = document.body.classList.toggle('dark-mode');
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
            document.getElementById('sunIcon').style.display = isDark ? 'block' : 'none';
            document.getElementById('moonIcon').style.display = isDark ? 'none' : 'block';
        });
        
        // 平台数据
        const platformData = {
            LH: {
                name: "LH平台",
                ChatGPT: [286, 606, 1208, 1524, 2278, 1164, 1381, 1489, 1554, 1248],
                Perplexity: [7, 54, 71, 47, 78, 58, 43, 78, 49, 47],
                Gemmini: [28, 92, 95, 20, 0, 15, null, null, null, null],
                ChatGPTDeals: [0, 1, 2, 1, 5, 2, 3, 10, 9, 10]
            },
            NT: {
                name: "NT平台",
                ChatGPT: [65, 119, 94, 203, 225, 746, 1453, 1435, 1102, 729],
                Perplexity: [17, 7, 7, 8, 19, 152, 118, 148, 133, 94],
                Gemmini: [3, 3, 6, 13, 0, 32, 80, 112, 134, 136]
            },
            BN: {
                name: "BN平台",
                ChatGPT: [85, 186, 121, 270, 187, 3466, 7342, 7909, 6551, 5676],
                Perplexity: [6, 4, 8, 56, 51, 2747, 5826, 4897, 4242, 3810],
                Gemmini: [1, 4, 10, 10, 0, 6, null, 103, 81, 22]
            }
        };
        
        // 月份数据
        const months = ['3月', '4月', '5月', '6月', '7月', '8月', '9月', '10月', '11月', '12月'];
        
        // 工具颜色
        const toolColors = {
            ChatGPT: '#4f46e5',
            Perplexity: '#10b981',
            Gemmini: '#f59e0b'
        };
        
        // 平台颜色
        const platformColors = {
            LH: '#4f46e5',
            NT: '#10b981',
            BN: '#f59e0b'
        };
        
        // 初始化所有图表
        function initCharts() {
            initTrendChart();
            initTotalChart();
            initConversionChart();
            initPieCharts();
        }
        
        // 初始化趋势对比图
        function initTrendChart() {
            const chartDom = document.getElementById('trendChart');
            const chart = echarts.init(chartDom);
            
            // 准备系列数据
            const series = [];
            
            // 添加各平台各工具的系列
            for (const platformKey in platformData) {
                const platform = platformData[platformKey];
                for (const tool in toolColors) {
                    if (platform[tool]) {
                        series.push({
                            name: `${platform.name} - ${tool}`,
                            type: 'line',
                            data: platform[tool],
                            smooth: true,
                            lineStyle: {
                                width: 3
                            },
                            symbolSize: 6,
                            itemStyle: {
                                color: toolColors[tool]
                            }
                        });
                    }
                }
            }
            
            const option = {
                tooltip: {
                    trigger: 'axis',
                    formatter: function(params) {
                        let result = `${params[0].axisValue}<br/>`;
                        params.forEach(param => {
                            const value = param.value === null ? '无数据' : param.value;
                            result += `<span style="display:inline-block;margin-right:5px;border-radius:50%;width:10px;height:10px;background-color:${param.color}"></span>${param.seriesName}: ${value}<br/>`;
                        });
                        return result;
                    }
                },
                legend: {
                    type: 'scroll',
                    top: 'top',
                    textStyle: {
                        color: 'var(--text-color)'
                    }
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '3%',
                    containLabel: true
                },
                xAxis: {
                    type: 'category',
                    boundaryGap: false,
                    data: months,
                    axisLine: {
                        lineStyle: {
                            color: 'var(--text-color)',
                            opacity: 0.3
                        }
                    }
                },
                yAxis: {
                    type: 'value',
                    axisLine: {
                        lineStyle: {
                            color: 'var(--text-color)',
                            opacity: 0.3
                        }
                    },
                    splitLine: {
                        lineStyle: {
                            color: 'var(--border-color)',
                            opacity: 0.5
                        }
                    }
                },
                series: series
            };
            
            chart.setOption(option);
            
            // 响应窗口大小变化
            window.addEventListener('resize', function() {
                chart.resize();
            });
        }
        
        // 初始化总量对比图
        function initTotalChart() {
            const chartDom = document.getElementById('totalChart');
            const chart = echarts.init(chartDom);
            
            // 计算各平台各工具总量
            const platformTotals = {};
            const toolTotals = { ChatGPT: [], Perplexity: [], Gemmini: [] };
            
            for (const platformKey in platformData) {
                const platform = platformData[platformKey];
                platformTotals[platformKey] = {};
                
                for (const tool in toolColors) {
                    if (platform[tool]) {
                        const total = platform[tool].reduce((sum, val) => sum + (val || 0), 0);
                        platformTotals[platformKey][tool] = total;
                        toolTotals[tool].push({
                            platform: platform.name,
                            value: total
                        });
                    }
                }
            }
            
            // 准备系列数据
            const series = [];
            let index = 0;
            for (const tool in toolTotals) {
                series.push({
                    name: tool,
                    type: 'bar',
                    data: toolTotals[tool].map(item => item.value),
                    itemStyle: {
                        color: toolColors[tool]
                    }
                });
                index++;
            }
            
            const option = {
                tooltip: {
                    trigger: 'axis',
                    axisPointer: {
                        type: 'shadow'
                    },
                    formatter: function(params) {
                        let result = '';
                        params.forEach(param => {
                            const platform = toolTotals.ChatGPT[param.dataIndex].platform;
                            if (param.seriesIndex === 0) {
                                result = `${platform}<br/>`;
                            }
                            result += `<span style="display:inline-block;margin-right:5px;border-radius:50%;width:10px;height:10px;background-color:${param.color}"></span>${param.seriesName}: ${param.value}<br/>`;
                        });
                        return result;
                    }
                },
                legend: {
                    textStyle: {
                        color: 'var(--text-color)'
                    }
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '3%',
                    top: '15%',
                    containLabel: true
                },
                xAxis: {
                    type: 'category',
                    data: Object.values(platformData).map(p => p.name),
                    axisLine: {
                        lineStyle: {
                            color: 'var(--text-color)',
                            opacity: 0.3
                        }
                    }
                },
                yAxis: {
                    type: 'value',
                    axisLine: {
                        lineStyle: {
                            color: 'var(--text-color)',
                            opacity: 0.3
                        }
                    },
                    splitLine: {
                        lineStyle: {
                            color: 'var(--border-color)',
                            opacity: 0.5
                        }
                    }
                },
                series: series
            };
            
            chart.setOption(option);
            
            // 响应窗口大小变化
            window.addEventListener('resize', function() {
                chart.resize();
            });
        }
        
        // 初始化转化率图表
        function initConversionChart() {
            const chartDom = document.getElementById('conversionChart');
            const chart = echarts.init(chartDom);
            
            const lhData = platformData.LH;
            const conversionRates = lhData.ChatGPT.map((value, index) => {
                if (value === 0 || !lhData.ChatGPTDeals[index]) return 0;
                return ((lhData.ChatGPTDeals[index] / value) * 100).toFixed(2);
            });
            
            const option = {
                tooltip: {
                    trigger: 'axis',
                    axisPointer: {
                        type: 'cross'
                    }
                },
                legend: {
                    data: ['ChatGPT引流数', '成交数', '转化率(%)'],
                    textStyle: {
                        color: 'var(--text-color)'
                    }
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '3%',
                    containLabel: true
                },
                xAxis: {
                    type: 'category',
                    data: months,
                    axisLine: {
                        lineStyle: {
                            color: 'var(--text-color)',
                            opacity: 0.3
                        }
                    }
                },
                yAxis: [
                    {
                        type: 'value',
                        name: '数量',
                        position: 'left',
                        axisLine: {
                            lineStyle: {
                                color: 'var(--text-color)',
                                opacity: 0.3
                            }
                        },
                        splitLine: {
                            lineStyle: {
                                color: 'var(--border-color)',
                                opacity: 0.5
                            }
                        }
                    },
                    {
                        type: 'value',
                        name: '转化率(%)',
                        position: 'right',
                        axisLine: {
                            lineStyle: {
                                color: 'var(--text-color)',
                                opacity: 0.3
                            }
                        },
                        splitLine: {
                            lineStyle: {
                                color: 'var(--border-color)',
                                opacity: 0.5
                            }
                        },
                        min: 0,
                        max: 2
                    }
                ],
                series: [
                    {
                        name: 'ChatGPT引流数',
                        type: 'bar',
                        data: lhData.ChatGPT,
                        itemStyle: {
                            color: toolColors.ChatGPT,
                            opacity: 0.7
                        },
                        yAxisIndex: 0
                    },
                    {
                        name: '成交数',
                        type: 'bar',
                        data: lhData.ChatGPTDeals,
                        itemStyle: {
                            color: '#ef4444'
                        },
                        yAxisIndex: 0
                    },
                    {
                        name: '转化率(%)',
                        type: 'line',
                        data: conversionRates,
                        yAxisIndex: 1,
                        itemStyle: {
                            color: '#8b5cf6'
                        },
                        lineStyle: {
                            width: 3
                        },
                        smooth: true
                    }
                ]
            };
            
            chart.setOption(option);
            
            // 响应窗口大小变化
            window.addEventListener('resize', function() {
                chart.resize();
            });
        }
        
        // 初始化饼图
        function initPieCharts() {
            // 计算各平台各工具总量
            const platformTotals = {};
            
            for (const platformKey in platformData) {
                const platform = platformData[platformKey];
                platformTotals[platformKey] = {};
                
                for (const tool in toolColors) {
                    if (platform[tool]) {
                        const total = platform[tool].reduce((sum, val) => sum + (val || 0), 0);
                        if (total > 0) {
                            platformTotals[platformKey][tool] = total;
                        }
                    }
                }
            }
            
            // 初始化三个饼图
            const pieCharts = [
                { id: 'pieChartLH', platform: 'LH', title: 'LH平台引流占比' },
                { id: 'pieChartNT', platform: 'NT', title: 'NT平台引流占比' },
                { id: 'pieChartBN', platform: 'BN', title: 'BN平台引流占比' }
            ];
            
            pieCharts.forEach(pieChart => {
                const chartDom = document.getElementById(pieChart.id);
                const chart = echarts.init(chartDom);
                
                const data = [];
                for (const tool in platformTotals[pieChart.platform]) {
                    data.push({
                        name: tool,
                        value: platformTotals[pieChart.platform][tool],
                        itemStyle: {
                            color: toolColors[tool]
                        }
                    });
                }
                
                const option = {
                    title: {
                        text: pieChart.title,
                        left: 'center',
                        top: '10',
                        textStyle: {
                            color: 'var(--text-color)',
                            fontSize: 14
                        }
                    },
                    tooltip: {
                        trigger: 'item',
                        formatter: '{a} <br/>{b}: {c} ({d}%)'
                    },
                    legend: {
                        orient: 'vertical',
                        left: 'left',
                        top: 'center',
                        textStyle: {
                            color: 'var(--text-color)'
                        }
                    },
                    series: [
                        {
                            name: '引流占比',
                            type: 'pie',
                            radius: ['40%', '70%'],
                            center: ['60%', '55%'],
                            avoidLabelOverlap: false,
                            itemStyle: {
                                borderRadius: 10,
                                borderColor: 'var(--card-color)',
                                borderWidth: 2
                            },
                            label: {
                                show: false,
                                position: 'center'
                            },
                            emphasis: {
                                label: {
                                    show: true,
                                    fontSize: '16',
                                    fontWeight: 'bold'
                                }
                            },
                            labelLine: {
                                show: false
                            },
                            data: data
                        }
                    ]
                };
                
                chart.setOption(option);
                
                // 响应窗口大小变化
                window.addEventListener('resize', function() {
                    chart.resize();
                });
            });
        }
        
        // 平台筛选功能
        function initPlatformFilter() {
            const platformBtns = document.querySelectorAll('.platform-btn');
            
            platformBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    // 移除所有active类
                    platformBtns.forEach(b => b.classList.remove('active'));
                    // 为当前按钮添加active类
                    this.classList.add('active');
                    
                    const platform = this.getAttribute('data-platform');
                    filterChartsByPlatform(platform);
                });
            });
        }
        
        // 按平台筛选图表
        function filterChartsByPlatform(platform) {
            // 在实际应用中，这里可以根据选择的平台重新渲染图表
            // 由于时间限制，这里只显示一个提示
            console.log(`筛选平台: ${platform}`);
            
            // 可以在此处添加根据平台筛选图表的逻辑
            // 例如，只显示选定平台的数据，或高亮显示选定平台的数据
        }
        
        // 初始化
        document.addEventListener('DOMContentLoaded', function() {
            initTheme();
            initCharts();
            initPlatformFilter();
        });
    </script>
</body>
</html>